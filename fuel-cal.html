<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fuel Mileage Calculator</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.21.2/babel.min.js"></script>
  <style>
    body {
      background-color: #f8f9fa;
    }
    .calculator-container {
      max-width: 800px;
      margin: 2rem auto;
      padding: 2rem;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      background-color: white;
    }
    .header {
      background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
      border-radius: 10px 10px 0 0;
      color: white;
      padding: 1.5rem;
      margin: -2rem -2rem 2rem -2rem;
    }
    .result-box {
      background-color: #f8f9fa;
      border-radius: 10px;
      padding: 1.5rem;
      margin-top: 2rem;
    }
    .info-icon {
      cursor: pointer;
      color: #6c757d;
      font-size: 1.1rem;
      vertical-align: middle;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const FuelCalculator = () => {
      const [distance, setDistance] = React.useState(15000);
      const [fuelEfficiency, setFuelEfficiency] = React.useState(25);
      const [fuelPrice, setFuelPrice] = React.useState(3.50);
      const [unit, setUnit] = React.useState('miles'); // miles or kilometers
      const [fuelUnit, setFuelUnit] = React.useState('gallon'); // gallon or liter
      
      // Calculate fuel cost
      const calculateFuelCost = () => {
        let annualDistance = parseFloat(distance) || 0;
        let efficiency = parseFloat(fuelEfficiency) || 1;
        let price = parseFloat(fuelPrice) || 0;
        
        // Convert if needed
        let fuelUsed;
        
        if (unit === 'miles' && fuelUnit === 'gallon') {
          fuelUsed = annualDistance / efficiency;
        } else if (unit === 'miles' && fuelUnit === 'liter') {
          // Convert miles per liter to miles per gallon (1 gallon = 3.78541 liters)
          fuelUsed = annualDistance / (efficiency * 3.78541);
        } else if (unit === 'kilometers' && fuelUnit === 'gallon') {
          // Convert km to miles (1 mile = 1.60934 km)
          fuelUsed = (annualDistance / 1.60934) / efficiency;
        } else {
          // km per liter
          // Convert km to miles and liters to gallons
          fuelUsed = (annualDistance / 1.60934) / (efficiency * 3.78541);
        }
        
        return (fuelUsed * price).toFixed(2);
      };
      
      const fuelCost = calculateFuelCost();
      const monthlyCost = (fuelCost / 12).toFixed(2);
      
      const handleUnitChange = (e) => {
        const newUnit = e.target.value;
        setUnit(newUnit);
        
        // Convert the distance when changing units
        if (newUnit === 'kilometers' && unit === 'miles') {
          setDistance((parseFloat(distance) * 1.60934).toFixed(0));
        } else if (newUnit === 'miles' && unit === 'kilometers') {
          setDistance((parseFloat(distance) / 1.60934).toFixed(0));
        }
      };
      
      const handleFuelUnitChange = (e) => {
        const newFuelUnit = e.target.value;
        setFuelUnit(newFuelUnit);
        
        // Convert efficiency when changing fuel units
        if (newFuelUnit === 'liter' && fuelUnit === 'gallon') {
          // Convert MPG to MPL (1 gallon = 3.78541 liters)
          setFuelEfficiency((parseFloat(fuelEfficiency) / 3.78541).toFixed(2));
          // Convert price per gallon to price per liter
          setFuelPrice((parseFloat(fuelPrice) / 3.78541).toFixed(2));
        } else if (newFuelUnit === 'gallon' && fuelUnit === 'liter') {
          // Convert MPL to MPG
          setFuelEfficiency((parseFloat(fuelEfficiency) * 3.78541).toFixed(2));
          // Convert price per liter to price per gallon
          setFuelPrice((parseFloat(fuelPrice) * 3.78541).toFixed(2));
        }
      };
      
      return (
        <div className="calculator-container">
          <div className="header">
            <h1 className="text-center mb-0">Fuel Cost Calculator</h1>
            <p className="text-center mb-0">Estimate your annual fuel expenses</p>
          </div>
          
          <div className="row">
            <div className="col-md-6 mb-3">
              <div className="form-group">
                <label className="form-label">Distance per year</label>
                <div className="input-group">
                  <input 
                    type="number" 
                    className="form-control" 
                    value={distance} 
                    onChange={(e) => setDistance(e.target.value)}
                    min="0"
                  />
                  <select 
                    className="form-select" 
                    style={{maxWidth: '100px'}}
                    value={unit}
                    onChange={handleUnitChange}
                  >
                    <option value="miles">miles</option>
                    <option value="kilometers">km</option>
                  </select>
                </div>
              </div>
            </div>
            
            <div className="col-md-6 mb-3">
              <div className="form-group">
                <label className="form-label">
                  Fuel efficiency 
                  {unit === 'miles' ? 
                    ` (${unit}/${fuelUnit})` : 
                    ` (${unit}/${fuelUnit})`}
                </label>
                <input 
                  type="number" 
                  className="form-control" 
                  value={fuelEfficiency} 
                  onChange={(e) => setFuelEfficiency(e.target.value)}
                  min="0.1"
                  step="0.1"
                />
              </div>
            </div>
          </div>
          
          <div className="row">
            <div className="col-md-6 mb-3">
              <div className="form-group">
                <label className="form-label">Fuel price (per {fuelUnit})</label>
                <div className="input-group">
                  <span className="input-group-text">$</span>
                  <input 
                    type="number" 
                    className="form-control" 
                    value={fuelPrice} 
                    onChange={(e) => setFuelPrice(e.target.value)}
                    min="0.01" 
                    step="0.01"
                  />
                  <select 
                    className="form-select" 
                    style={{maxWidth: '100px'}}
                    value={fuelUnit}
                    onChange={handleFuelUnitChange}
                  >
                    <option value="gallon">gallon</option>
                    <option value="liter">liter</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          
          <div className="result-box mt-4">
            <h3 className="text-center">Your Fuel Cost Estimate</h3>
            <div className="row text-center">
              <div className="col-md-6">
                <div className="p-3">
                  <h4>Annual Cost</h4>
                  <h2 className="text-primary">${fuelCost}</h2>
                </div>
              </div>
              <div className="col-md-6">
                <div className="p-3">
                  <h4>Monthly Average</h4>
                  <h2 className="text-success">${monthlyCost}</h2>
                </div>
              </div>
            </div>
          </div>
          
          <div className="mt-4 pt-3 border-top">
            <h5>Fuel Saving Tips</h5>
            <ul className="small">
              <li>Regular maintenance can improve your vehicle's fuel efficiency</li>
              <li>Driving at moderate speeds can save up to 20% in fuel consumption</li>
              <li>Avoid idling for long periods</li>
              <li>Ensure proper tire inflation for optimal fuel economy</li>
            </ul>
          </div>
        </div>
      );
    };
    
    ReactDOM.render(<FuelCalculator />, document.getElementById('root'));
  </script>
</body>
</html>